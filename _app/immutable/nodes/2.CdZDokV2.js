import{_ as W}from"../chunks/PPVm8Dsz.js";import"../chunks/DsnmJJEf.js";import"../chunks/DLWFu6av.js";import{p as B,k as T,o as e,s as t,v as o,t as S,b as i,e as y,w as f,m as R,n as E,l as $,g as r,ac as V,F as q,I as C,ad as H,a0 as F}from"../chunks/C4JLu-pu.js";import{e as M,i as N,M as z}from"../chunks/DdOEtDcN.js";import{i as I}from"../chunks/7fNboRwR.js";import{p as j,i as J}from"../chunks/BCSFRfpT.js";import{s as K,a as D}from"../chunks/DmuCGhFX.js";import{g as Q}from"../chunks/CWQLc4f4.js";const X="prnvtripathi",Y="no-time",Z="main",L=`https://raw.githubusercontent.com/${X}/${Y}/${Z}`;var tt=T('<div> </div> <div class="text-xs"> </div>',1),et=T('<div class="text-sm text-muted-foreground">no data</div>'),at=T('<div class="card p-3 border rounded bg-card text-card-foreground shadow-sm transition-colors"><div class="flex items-center justify-between"><div><a target="_blank" rel="noreferrer"><h3 class="text-lg font-semibold"> </h3></a> <div class="text-sm text-muted-foreground"> </div></div> <div class="text-right"><!></div></div></div>');function rt(U,p){B(p,!1);let d=j(p,"site",8),s=j(p,"log",8);I();var c=at(),_=e(c),a=e(_),n=e(a),x=e(n),b=e(x,!0);t(x),t(n);var v=o(n,2),A=e(v,!0);t(v),t(a);var m=o(a,2),g=e(m);{var u=l=>{var w=tt(),k=$(w),G=e(k,!0);t(k);var P=o(k,2),O=e(P);t(P),S(()=>{D(k,1,(y(s()),i(()=>"font-bold "+(s().status==="UP"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400")))),f(G,(y(s()),i(()=>s().status))),f(O,`${y(s()),i(()=>s().code??"")??""} ¬∑ ${y(s()),i(()=>s().rtt??"-")??""}ms`)}),R(l,w)},h=l=>{var w=et();R(l,w)};J(g,l=>{s()?l(u):l(h,!1)})}t(m),t(_),t(c),S(()=>{K(n,"href",(y(d()),i(()=>d().url))),f(b,(y(d()),i(()=>d().name))),f(A,(y(d()),i(()=>d().url)))}),R(U,c),E()}var st=T('<tr class="hover:bg-muted/30 transition-colors"><td class="py-2 px-3"> </td><td> </td><td class="py-2 px-3 tabular-nums"> </td><td class="py-2 px-3 tabular-nums"> </td><td class="py-2 px-3 whitespace-nowrap"> </td></tr>'),it=T('<table class="min-w-full mt-4 text-sm border border-border rounded-md overflow-hidden bg-card text-card-foreground"><thead><tr class="text-left bg-muted/40"><th class="py-2 px-3 font-medium">Site</th><th class="py-2 px-3 font-medium">Status</th><th class="py-2 px-3 font-medium">Code</th><th class="py-2 px-3 font-medium">RTT (ms)</th><th class="py-2 px-3 font-medium">Checked</th></tr></thead><tbody class="divide-y divide-border"></tbody></table>');function ot(U,p){B(p,!1);let d=j(p,"logs",24,()=>[]);I();var s=it(),c=o(e(s));M(c,5,d,N,(_,a)=>{var n=st(),x=e(n),b=e(x,!0);t(x);var v=o(x),A=e(v,!0);t(v);var m=o(v),g=e(m,!0);t(m);var u=o(m),h=e(u,!0);t(u);var l=o(u),w=e(l,!0);t(l),t(n),S(k=>{f(b,(r(a),i(()=>r(a).name))),D(v,1,(r(a),i(()=>"py-2 px-3 font-medium "+(r(a).status==="UP"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400")))),f(A,(r(a),i(()=>r(a).status))),f(g,(r(a),i(()=>r(a).code))),f(h,(r(a),i(()=>r(a).rtt))),f(w,k)},[()=>(r(a),i(()=>new Date(r(a).checkedAt).toLocaleString()))]),R(_,n)}),t(c),t(s),R(U,s),E()}var dt=T('<main class="p-8 min-h-screen bg-background text-foreground transition-colors"><header class="flex justify-between items-center mb-6"><div><h1 class="text-3xl font-bold">üåê No Time</h1> <p class="text-muted-foreground">Monitor and Report Website Uptime</p></div> <div><button class="inline-flex items-center justify-center rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 px-4 py-2 font-medium shadow transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 mr-2">+ Add New Site</button> <!></div></header> <section class="grid grid-cols-1 md:grid-cols-2 gap-6"></section> <section class="mt-10"><h2 class="text-xl font-semibold mb-3">Recent Uptime Logs</h2> <!></section></main>');function xt(U,p){B(p,!1);let d=H([]),s=H([]);V(async()=>{const m=await(await W(async()=>{const{default:l}=await import("../chunks/CDerewhm.js");return{default:l}},[],import.meta.url)).default,g=await fetch(`${L}/data/sites.yaml`),u=m.load(await g.text());C(d,u.sites);const h=await fetch(`${L}/logs/latest.json`);C(s,await h.json())}),I();var c=dt(),_=e(c),a=o(e(_),2),n=e(a),x=o(n,2);z(x),t(a),t(_);var b=o(_,2);M(b,5,()=>r(d),N,(m,g)=>{{let u=F(()=>r(s).find(h=>h.url===r(g).url));rt(m,{get site(){return r(g)},get log(){return r(u)}})}}),t(b);var v=o(b,2),A=o(e(v),2);ot(A,{get logs(){return r(s)}}),t(v),t(c),q("click",n,()=>Q("/sites/add")),R(U,c),E()}export{xt as component};
